<div class="d-flex flex-column justify-content-center mt-3">
    <button class="btn btn-secondary mt-3 col-lg-1 col-2 text-nowrap overflow-hidden ms-3" [routerLink]="['/api/admin/users']">&lt; Back</button>

    <div *ngIf="users.length === 0" class="container event-details d-flex flex-column justify-content-center">
      <h5 class="text-center mt-4 text-danger">No users found.</h5>
    </div>

    <form *ngIf="users.length > 0" [formGroup]="editForm" class="d-flex flex-column col-12" action="patch">
      <h3 class="text-center mb-3"> Update/Delete Form</h3>
      <div class="container d-flex flex-row justify-content-evenly col-12">
        <div class="d-flex flex-column col-5">

          <mat-form-field class="col-2">
            <mat-label>ID:</mat-label>
            <input matInput type="text" formControlName="userId" readonly>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Username</mat-label>
            <input matInput type="text" formControlName="username"/>
          </mat-form-field>
      
          <mat-form-field>
            <mat-label>Password</mat-label>
            <input matInput type="password" formControlName="password"  />
          </mat-form-field>
      
          <mat-form-field>
            <mat-label>Email</mat-label>
            <input matInput type="email" formControlName="email"  />
          </mat-form-field>
      
          <mat-form-field>
            <mat-label>First name</mat-label>
            <input matInput type="text" formControlName="firstname" />
          </mat-form-field>
      
          <mat-form-field>
            <mat-label>Last name</mat-label>
            <input matInput type="text" formControlName="lastname" />
          </mat-form-field>
          <mat-form-field>
            <mat-label>Phone Number</mat-label>
            <input matInput type="text" formControlName="phoneNumber" />
          </mat-form-field>

          <mat-form-field>
            <mat-label>Role</mat-label>
            <mat-select formControlName="role">
              <mat-option value="User">User</mat-option>
              <mat-option value="Admin">Admin</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>
      <div class="d-flex justify-content-evenly mt-2 mb-4">
        <button class="btn btn-primary me-2" type="button" (click)="saveUser()">Save</button>
        <button class="btn btn-danger" type="button" (click)="openConfirmDeleteDialog(displayedUser)">Delete</button>
      </div>
  
      <div class="d-flex justify-content-between mt-2 mb-4">
        <button class="btn btn-secondary ms-3" type="button" (click)="navigateToPreviousUser()" [disabled]="currentIndex <= 0">&lt; Previous User</button>
        <button class="btn btn-secondary me-3" type="button" (click)="navigateToNextUser()" [disabled]="currentIndex >= users.length - 1">Next User &gt;</button>
      </div>
    </form>
  </div>
  